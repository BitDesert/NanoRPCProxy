{"version":3,"sources":["components/qr-code.js","components/qrImageStyle.js","App.js","rpc.js","serviceWorker.js","index.js"],"names":["qrCodeGenerator","QrCode","config","$element","window","self","vendor_qrcode","createQRCode","text","level","version","quiet","qr","vqr","addData","make","qrModuleCount","getModuleCount","quietModuleCount","moduleCount","isDark","row","col","drawModuleRounded","context","settings","left","top","width","right","bottom","rowT","rowB","colL","colR","radius","Math","floor","min","max","center","northwest","north","northeast","east","southeast","south","southwest","west","round","ctx","l","t","r","b","rad","nw","ne","se","sw","lal","x0","y0","x1","y1","r0","r1","lineTo","arcTo","moveTo","drawModuleRoundedDark","mlla","x","y","drawModuleRoundendLight","drawModules","moduleSize","size","beginPath","fill","fillStyle","gradient","type","position","colorStops","absolutePosition","map","coordinate","createLinearGradient","apply","Error","createRadialGradient","forEach","offset","color","addColorStop","setFill","drawOnCanvas","canvas","minVersion","maxVersion","err","createMinQRCode","ecLevel","getContext","background","fillRect","drawBackground","defaults","options","Object","assign","HTMLCanvasElement","height","clearRect","$canvas","document","createElement","createCanvas","appendChild","qrcode","typeNumber","errorCorrectLevel","_typeNumber","_errorCorrectLevel","QRErrorCorrectLevel","_modules","_moduleCount","_dataCache","_dataList","_this","makeImpl","test","maskPattern","modules","Array","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","c","pos","QRUtil","getPatternPosition","i","length","j","bits","getBCHTypeNumber","mod","i2","data","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","dataList","rsBlocks","QRRSBlock","getRSBlocks","buffer","qrBitBuffer","put","getMode","getLength","getLengthInBits","write","totalDataCount","dataCount","putBit","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","getBuffer","rsPoly","getErrorCorrectPolynomial","modPoly","qrPolynomial","modIndex","getAt","totalCodeCount","index","createBytes","newData","qr8BitByte","push","minLostPoint","pattern","lostPoint","getLostPoint","getBestMaskPattern","stringToBytes","s","str","utf8","charcode","charCodeAt","toUTF8Array","QRMode","QRMaskPattern","PATTERN_POSITION_TABLE","getBCHDigit","digit","d","errorCorrectLength","a","multiply","QRMath","gexp","mode","sameCount","count","darkCount","abs","EXP_TABLE","LOG_TABLE","n","num","shift","_num","e","glog","ratio","RS_BLOCK_TABLE","qrRSBlock","rsBlock","getRsBlockTable","list","_buffer","_length","bufIndex","bit","_mode","_bytes","QrImageStyle","props","state","image","prevContent","qrContent","this","src","alt","content","render","toDataURL","React","Component","constants","RPC_SERVER","RPC_CREDS","SAMPLE_COMMANDS","SAMPLE_COMMAND_NAMES","RPCError","code","params","captureStackTrace","name","App","handleOptionChange","changeEvent","setState","useAuth","qrClassesContainer","qrClassesImg","command","key","amount","nanoAmount","output","validKey","fetchingRPC","paymentActive","activeCommandId","activeCommandName","tokenText1","tokenText2","tokenText3","qrSize","qrState","qrHidden","payinfoHidden","apiText","tokenPrice","getRPC","bind","buyTokens","checkTokens","cancelOrder","prepareForPayment","handleCommandChange","handleKeyChange","handleAmountChange","handleNanoChange","handleRPCError","selectCommand","postData","updateQR","double","action","then","nano","parseFloat","token_price","catch","error","event","target","value","query","$","param","JSON","parse","parseInt","Number","isSafeInteger","isFloat","tokens","address","raw","MnanoToRaw","toString","input","isNumeric","Nano","from","NANO","to","val","String","slice","eventKey","console","log","message","writeOutput","isInteger","token_amount","token_key","keys","json","payment_amount","timer","setInterval","order_time_left","tokens_ordered","tokens_total","clearInterval","stringify","server","didTimeOut","headers","Authorization","Base64","encode","Promise","resolve","reject","timeout","setTimeout","fetch","method","cache","credentials","redirect","referrerPolicy","body","response","clearTimeout","status","result","className","href","DropdownButton","title","id","Dropdown","Item","onSelect","InputGroup","Prepend","Text","FormControl","aria-describedby","maxLength","placeholder","onChange","autoComplete","checked","Button","variant","disabled","onClick","Parser","as","rows","readOnly","Boolean","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAGrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAGrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAGpB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAGrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAGpB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAGrB,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAGrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IACpB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAGrB,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KACvB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IACrB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,K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","file":"static/js/main.d8d40c54.chunk.js","sourcesContent":["/*! https://github.com/nimiq/qr-encoder */\n/*! Edits by Joohansson */\n/*! Modified self['QrCode'] = QrCode; into window.self to work with reactJS */\n/*! Some other react warning modifications */\n\nlet qrCodeGenerator = null;\n\n// Library interface\nexport default class QrCode {\n    static render(config, $element) {\n        qrCodeGenerator(config, $element);\n    }\n}\n// avoid that closure compiler strips these away\n//QrCode['render'] = QrCode.render; //Joohansson edit\nwindow.self['QrCode'] = QrCode;\n\n\n/*! jquery-qrcode v0.14.0 - https://larsjung.de/jquery-qrcode/ */\n(function(vendor_qrcode) {\n\n    // Wrapper for the original QR code generator.\n    function createQRCode(text, level, version, quiet) {\n        var qr = {};\n\n        var vqr = vendor_qrcode(version, level);\n        vqr.addData(text);\n        vqr.make();\n\n        quiet = quiet || 0;\n\n        var qrModuleCount = vqr.getModuleCount(),\n            quietModuleCount = vqr.getModuleCount() + 2 * quiet;\n\n        function isDark(row, col) {\n            row -= quiet;\n            col -= quiet;\n\n            if (row < 0 || row >= qrModuleCount || col < 0 || col >= qrModuleCount) {\n                return false;\n            }\n            return vqr.isDark(row, col);\n        }\n\n        qr.text = text;\n        qr.level = level;\n        qr.version = version;\n        qr.moduleCount = quietModuleCount;\n        qr.isDark = isDark;\n//        qr.addBlank = addBlank;\n\n        return qr;\n    }\n\n    // Returns a minimal QR code for the given text starting with version `minVersion`.\n    // Returns `undefined` if `text` is too long to be encoded in `maxVersion`.\n    function createMinQRCode(text, level, minVersion, maxVersion, quiet) {\n        minVersion = Math.max(1, minVersion || 1);\n        maxVersion = Math.min(40, maxVersion || 40);\n        for (var version = minVersion; version <= maxVersion; version += 1) {\n            try {\n                return createQRCode(text, level, version, quiet);\n            } catch (err) { }\n        }\n        return undefined;\n    }\n\n    function drawBackground(qr, context, settings) {\n        if (settings.background) {\n            context.fillStyle = settings.background;\n            context.fillRect(settings.left, settings.top, settings.size, settings.size);\n        }\n    }\n\n    // used when center is filled\n    function drawModuleRoundedDark(ctx, l, t, r, b, rad, nw, ne, se, sw) {\n        //let moveTo = (x, y) => ctx.moveTo(Math.floor(x), Math.floor(y));\n        if (nw) {\n            ctx.moveTo(l + rad, t);\n        } else {\n            ctx.moveTo(l, t);\n        }\n\n        function lal(b, x0, y0, x1, y1, r0, r1) {\n            if (b) {\n                ctx.lineTo(x0 + r0, y0 + r1);\n                ctx.arcTo(x0, y0, x1, y1, rad);\n            } else {\n                ctx.lineTo(x0, y0);\n            }\n        }\n\n        lal(ne, r, t, r, b, -rad, 0);\n        lal(se, r, b, l, b, 0, -rad);\n        lal(sw, l, b, l, t, rad, 0);\n        lal(nw, l, t, r, t, 0, rad);\n    }\n\n    // used when center is empty\n    function drawModuleRoundendLight(ctx, l, t, r, b, rad, nw, ne, se, sw) {\n        function mlla(x, y, r0, r1) {\n            ctx.moveTo(x+r0, y);\n            ctx.lineTo(x, y);\n            ctx.lineTo(x, y+r1);\n            ctx.arcTo(x, y, x+r0, y, rad);\n        }\n\n        if (nw) mlla(l, t, rad, rad);\n        if (ne) mlla(r, t, -rad, rad);\n        if (se) mlla(r, b, -rad, -rad);\n        if (sw) mlla(l, b, rad, -rad);\n    }\n\n    function drawModuleRounded(qr, context, settings, left, top, width, row, col) {\n        var isDark = qr.isDark,\n            right = left + width,\n            bottom = top + width,\n            rowT = row - 1,\n            rowB = row + 1,\n            colL = col - 1,\n            colR = col + 1,\n            radius = Math.floor(Math.min(0.5, Math.max(0, settings.radius)) * width),\n            center = isDark(row, col),\n            northwest = isDark(rowT, colL),\n            north = isDark(rowT, col),\n            northeast = isDark(rowT, colR),\n            east = isDark(row, colR),\n            southeast = isDark(rowB, colR),\n            south = isDark(rowB, col),\n            southwest = isDark(rowB, colL),\n            west = isDark(row, colL);\n\n        left = Math.round(left);\n        top = Math.round(top);\n        right = Math.round(right);\n        bottom = Math.round(bottom);\n\n        if (center) {\n            drawModuleRoundedDark(context, left, top, right, bottom, radius, !north && !west, !north && !east, !south && !east, !south && !west);\n        } else {\n            drawModuleRoundendLight(context, left, top, right, bottom, radius, north && west && northwest, north && east && northeast, south && east && southeast, south && west && southwest);\n        }\n    }\n\n    function drawModules(qr, context, settings) {\n        var moduleCount = qr.moduleCount,\n            moduleSize = settings.size / moduleCount,\n            row,\n            col;\n\n        context.beginPath();\n        for (row = 0; row < moduleCount; row += 1) {\n            for (col = 0; col < moduleCount; col += 1) {\n                var l = settings.left + col * moduleSize,\n                    t = settings.top + row * moduleSize,\n                    w = moduleSize;\n\n                drawModuleRounded(qr, context, settings, l, t, w, row, col);\n            }\n        }\n\n        setFill(context, settings);\n        context.fill();\n    }\n\n    function setFill(context, settings) {\n        const fill = settings.fill;\n        if (typeof fill === 'string') {\n            // solid color\n            context.fillStyle = fill;\n            return;\n        }\n        const type = fill['type'],\n            position = fill['position'],\n            colorStops = fill['colorStops'];\n        let gradient;\n        const absolutePosition = position.map(coordinate => Math.round(coordinate * settings.size));\n        if (type === 'linear-gradient') {\n            gradient = context.createLinearGradient.apply(context, absolutePosition);\n        } else if (type === 'radial-gradient') {\n            gradient = context.createRadialGradient.apply(context, absolutePosition);\n        } else {\n            throw new Error('Unsupported fill');\n        }\n        colorStops.forEach(([offset, color]) => {\n            gradient.addColorStop(offset, color);\n        });\n        context.fillStyle = gradient;\n    }\n\n    // Draws QR code to the given `canvas` and returns it.\n    function drawOnCanvas(canvas, settings) {\n        var qr = createMinQRCode(settings.text, settings.ecLevel, settings.minVersion, settings.maxVersion, settings.quiet);\n        if (!qr) {\n            return null;\n        }\n\n        var context = canvas.getContext('2d');\n\n        drawBackground(qr, context, settings);\n        drawModules(qr, context, settings);\n\n        return canvas;\n    }\n\n    // Returns a `canvas` element representing the QR code for the given settings.\n    function createCanvas(settings) {\n        var $canvas = document.createElement('canvas');\n        $canvas.width = settings.size;\n        $canvas.height = settings.size;\n        return drawOnCanvas($canvas, settings);\n    }\n\n    // Plugin\n    // ======\n\n    // Default settings\n    // ----------------\n    var defaults = {\n        // version range somewhere in 1 .. 40\n        'minVersion': 1,\n        'maxVersion': 40,\n\n        // error correction level: `'L'`, `'M'`, `'Q'` or `'H'`\n        'ecLevel': 'L',\n\n        // offset in pixel if drawn onto existing canvas\n        'left': 0,\n        'top': 0,\n\n        // size in pixel\n        'size': 200,\n\n        // code color or image element\n        'fill': '#000',\n\n        // background color, `null` for transparent background\n        'background': null,\n\n        // content\n        'text': 'no text',\n\n        // corner radius relative to module width: 0.0 .. 0.5\n        'radius': 0.5,\n\n        // quiet zone in modules\n        'quiet': 0,\n\n    };\n\n    // // Register the plugin\n    // // -------------------\n    qrCodeGenerator = function(options, $element) {\n        var settings = {};\n        Object.assign(settings, defaults, options);\n        // map real names to minifyable properties used by closure compiler\n        /* Joohansson edit\n        settings.minVersion = settings['minVersion'];\n        settings.maxVersion = settings['maxVersion'];\n        settings.ecLevel = settings['ecLevel'];\n        settings.left = settings['left'];\n        settings.top = settings['top'];\n        settings.size = settings['size'];\n        settings.fill = settings['fill'];\n        settings.background = settings['background'];\n        settings.text = settings['text'];\n        settings.radius = settings['radius'];\n        settings.quiet = settings['quiet'];\n        */\n\n        if ($element instanceof HTMLCanvasElement) {\n            if ($element.width !== settings.size || $element.height !== settings.size) {\n                $element.width = settings.size;\n                $element.height = settings.size;\n            }\n            $element.getContext('2d').clearRect(0, 0, $element.width, $element.height);\n            drawOnCanvas($element, settings);\n        } else {\n            const $canvas = createCanvas(settings);\n            $element.appendChild($canvas);\n        }\n    };\n}(function() {\n    // `qrcode` is the single public function defined by the `QR Code Generator`\n    //---------------------------------------------------------------------\n    //\n    // QR Code Generator for JavaScript\n    //\n    // Copyright (c) 2009 Kazuhiko Arase\n    //\n    // URL: http://www.d-project.com/\n    //\n    // Licensed under the MIT license:\n    //  http://www.opensource.org/licenses/mit-license.php\n    //\n    // The word 'QR Code' is registered trademark of\n    // DENSO WAVE INCORPORATED\n    //  http://www.denso-wave.com/qrcode/faqpatent-e.html\n    //\n    //---------------------------------------------------------------------\n\n    var qrcode = function() {\n\n        //---------------------------------------------------------------------\n        // qrcode\n        //---------------------------------------------------------------------\n\n        /**\n         * qrcode\n         * @param typeNumber 1 to 40\n         * @param errorCorrectLevel 'L','M','Q','H'\n         */\n        var qrcode = function(typeNumber, errorCorrectLevel) {\n\n            var PAD0 = 0xEC,\n                PAD1 = 0x11,\n                _typeNumber = typeNumber,\n                _errorCorrectLevel = QRErrorCorrectLevel[errorCorrectLevel],\n                _modules = null,\n                _moduleCount = 0,\n                _dataCache = null,\n                _dataList = [],\n                _this = {},\n                makeImpl = function(test, maskPattern) {\n\n                _moduleCount = _typeNumber * 4 + 17;\n                _modules = function(moduleCount) {\n                    var modules = new Array(moduleCount);\n                    for (var row = 0; row < moduleCount; row += 1) {\n                        modules[row] = new Array(moduleCount);\n                        for (var col = 0; col < moduleCount; col += 1) {\n                            modules[row][col] = null;\n                        }\n                    }\n                    return modules;\n                }(_moduleCount);\n\n                setupPositionProbePattern(0, 0);\n                setupPositionProbePattern(_moduleCount - 7, 0);\n                setupPositionProbePattern(0, _moduleCount - 7);\n                setupPositionAdjustPattern();\n                setupTimingPattern();\n                setupTypeInfo(test, maskPattern);\n\n                if (_typeNumber >= 7) {\n                    setupTypeNumber(test);\n                }\n\n                if (_dataCache == null) {\n                    _dataCache = createData(_typeNumber, _errorCorrectLevel, _dataList);\n                }\n\n                mapData(_dataCache, maskPattern);\n            },\n\n                setupPositionProbePattern = function(row, col) {\n\n                for (var r = -1; r <= 7; r += 1) {\n\n                    if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n                    for (var c = -1; c <= 7; c += 1) {\n\n                        if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n                        if ((0 <= r && r <= 6 && (c === 0 || c === 6)) ||\n                            (0 <= c && c <= 6 && (r === 0 || r === 6)) ||\n                            (2 <= r && r <= 4 && 2 <= c && c <= 4)) {\n                            _modules[row + r][col + c] = true;\n                        } else {\n                            _modules[row + r][col + c] = false;\n                        }\n                    }\n                }\n            },\n\n                getBestMaskPattern = function() {\n\n                var minLostPoint = 0,\n                    pattern = 0;\n\n                for (var i = 0; i < 8; i += 1) {\n\n                    makeImpl(true, i);\n\n                    var lostPoint = QRUtil.getLostPoint(_this);\n\n                    if (i === 0 || minLostPoint > lostPoint) {\n                        minLostPoint = lostPoint;\n                        pattern = i;\n                    }\n                }\n\n                return pattern;\n            },\n\n                setupTimingPattern = function() {\n\n                for (var r = 8; r < _moduleCount - 8; r += 1) {\n                    if (_modules[r][6] != null) {\n                        continue;\n                    }\n                    _modules[r][6] = (r % 2 === 0);\n                }\n\n                for (var c = 8; c < _moduleCount - 8; c += 1) {\n                    if (_modules[6][c] != null) {\n                        continue;\n                    }\n                    _modules[6][c] = (c % 2 === 0);\n                }\n            },\n\n                setupPositionAdjustPattern = function() {\n\n                var pos = QRUtil.getPatternPosition(_typeNumber);\n\n                for (var i = 0; i < pos.length; i += 1) {\n\n                    for (var j = 0; j < pos.length; j += 1) {\n\n                        var row = pos[i];\n                        var col = pos[j];\n\n                        if (_modules[row][col] != null) {\n                            continue;\n                        }\n\n                        for (var r = -2; r <= 2; r += 1) {\n\n                            for (var c = -2; c <= 2; c += 1) {\n\n                                _modules[row + r][col + c] = r === -2 || r === 2 || c === -2 || c === 2 || (r === 0 && c === 0);\n                            }\n                        }\n                    }\n                }\n            },\n\n            // TODO rm5 can be removed if we fix type to 5 (this method is called at 7 only)\n                setupTypeNumber = function(test) {\n\n                var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n                for (var i = 0; i < 18; i += 1) {\n                    let mod = (!test && ((bits >> i) & 1) === 1);\n                    _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n                }\n\n                for (var i2 = 0; i2 < 18; i2 += 1) {\n                    let mod = (!test && ((bits >> i2) & 1) === 1);\n                    _modules[i2 % 3 + _moduleCount - 8 - 3][Math.floor(i2 / 3)] = mod;\n                }\n            },\n\n                setupTypeInfo = function(test, maskPattern) {\n\n                var data = (_errorCorrectLevel << 3) | maskPattern;\n                var bits = QRUtil.getBCHTypeInfo(data);\n\n                for (var i = 0; i < 15; i += 1) {\n                    let mod = (!test && ((bits >> i) & 1) === 1);\n\n                    // vertical then horizontal\n                    _modules[i < 6 ? i : (i < 8 ? i + 1 : _moduleCount - 15 + i)][8] = mod;\n                    _modules[8][i < 8 ? _moduleCount - i - 1 : (i < 9 ? 15 - i : 14 - i)] = mod;\n                }\n\n                // fixed module\n                _modules[_moduleCount - 8][8] = (!test);\n            },\n\n                mapData = function(data, maskPattern) {\n\n                var inc = -1,\n                    row = _moduleCount - 1,\n                    bitIndex = 7,\n                    byteIndex = 0,\n                    maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n                for (var col = _moduleCount - 1; col > 0; col -= 2) {\n\n                    if (col === 6) col -= 1;\n\n                    while (true) {\n\n                        for (var c = 0; c < 2; c += 1) {\n\n                            if (_modules[row][col - c] == null) {\n\n                                var dark = false;\n\n                                if (byteIndex < data.length) {\n                                    dark = (((data[byteIndex] >>> bitIndex) & 1) === 1);\n                                }\n\n                                var mask = maskFunc(row, col - c);\n\n                                if (mask) {\n                                    dark = !dark;\n                                }\n\n                                _modules[row][col - c] = dark;\n                                bitIndex -= 1;\n\n                                if (bitIndex === -1) {\n                                    byteIndex += 1;\n                                    bitIndex = 7;\n                                }\n                            }\n                        }\n\n                        row += inc;\n\n                        if (row < 0 || _moduleCount <= row) {\n                            row -= inc;\n                            inc = -inc;\n                            break;\n                        }\n                    }\n                }\n            },\n\n                createBytes = function(buffer, rsBlocks) {\n\n                var offset = 0,\n                    maxDcCount = 0,\n                    maxEcCount = 0,\n                    dcdata = new Array(rsBlocks.length),\n                    ecdata = new Array(rsBlocks.length);\n\n                var i;\n                var r;\n                for (r = 0; r < rsBlocks.length; r += 1) {\n\n                    var dcCount = rsBlocks[r].dataCount,\n                        ecCount = rsBlocks[r].totalCount - dcCount;\n\n                    maxDcCount = Math.max(maxDcCount, dcCount);\n                    maxEcCount = Math.max(maxEcCount, ecCount);\n\n                    dcdata[r] = new Array(dcCount);\n\n                    for (i = 0; i < dcdata[r].length; i += 1) {\n                        dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n                    }\n                    offset += dcCount;\n\n                    var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount),\n                        rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1),\n                        modPoly = rawPoly.mod(rsPoly);\n\n                    ecdata[r] = new Array(rsPoly.getLength() - 1);\n                    for (i = 0; i < ecdata[r].length; i += 1) {\n                        var modIndex = i + modPoly.getLength() - ecdata[r].length;\n                        ecdata[r][i] = (modIndex >= 0) ? modPoly.getAt(modIndex) : 0;\n                    }\n                }\n\n                var totalCodeCount = 0;\n\n                for (i = 0; i < rsBlocks.length; i += 1) {\n                    totalCodeCount += rsBlocks[i].totalCount;\n                }\n\n                var data = new Array(totalCodeCount);\n                var index = 0;\n\n                for (i = 0; i < maxDcCount; i += 1) {\n                    for (r = 0; r < rsBlocks.length; r += 1) {\n                        if (i < dcdata[r].length) {\n                            data[index] = dcdata[r][i];\n                            index += 1;\n                        }\n                    }\n                }\n\n                for (i = 0; i < maxEcCount; i += 1) {\n                    for (r = 0; r < rsBlocks.length; r += 1) {\n                        if (i < ecdata[r].length) {\n                            data[index] = ecdata[r][i];\n                            index += 1;\n                        }\n                    }\n                }\n\n                return data;\n            },\n\n                createData = function(typeNumber, errorCorrectLevel, dataList) {\n\n                var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel),\n                    buffer = qrBitBuffer();\n\n                var i;\n                for (i = 0; i < dataList.length; i += 1) {\n                    var data = dataList[i];\n                    buffer.put(data.getMode(), 4);\n                    buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber));\n                    data.write(buffer);\n                }\n\n                // calc num max data.\n                var totalDataCount = 0;\n                for (i = 0; i < rsBlocks.length; i += 1) {\n                    totalDataCount += rsBlocks[i].dataCount;\n                }\n\n                if (buffer.getLengthInBits() > totalDataCount * 8) {\n                    throw new Error('code length overflow. (' +\n                        buffer.getLengthInBits() +\n                        '>' +\n                        totalDataCount * 8 +\n                        ')');\n                }\n\n                // end code\n                if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n                    buffer.put(0, 4);\n                }\n\n                // padding\n                while (buffer.getLengthInBits() % 8 !== 0) {\n                    buffer.putBit(false);\n                }\n\n                // padding\n                while (true) {\n\n                    if (buffer.getLengthInBits() >= totalDataCount * 8) {\n                        break;\n                    }\n                    buffer.put(PAD0, 8);\n\n                    if (buffer.getLengthInBits() >= totalDataCount * 8) {\n                        break;\n                    }\n                    buffer.put(PAD1, 8);\n                }\n\n                return createBytes(buffer, rsBlocks);\n            };\n\n            _this.addData = function(data) {\n                var newData = qr8BitByte(data);\n                _dataList.push(newData);\n                _dataCache = null;\n            };\n\n            _this.isDark = function(row, col) {\n                if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n                    throw new Error(row + ',' + col);\n                }\n                return _modules[row][col];\n            };\n\n            _this.getModuleCount = function() {\n                return _moduleCount;\n            };\n\n            _this.make = function() {\n                makeImpl(false, getBestMaskPattern());\n            };\n\n            return _this;\n        };\n\n        //---------------------------------------------------------------------\n        // qrcode.stringToBytes\n        //---------------------------------------------------------------------\n\n        // UTF-8 version\n        qrcode.stringToBytes = function(s) {\n            // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n            function toUTF8Array(str) {\n                var utf8 = [];\n                for (var i = 0; i < str.length; i++) {\n                    var charcode = str.charCodeAt(i);\n                    if (charcode < 0x80) utf8.push(charcode);\n                    else if (charcode < 0x800) {\n                        utf8.push(0xc0 | (charcode >> 6),\n                            0x80 | (charcode & 0x3f));\n                    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n                        utf8.push(0xe0 | (charcode >> 12),\n                            0x80 | ((charcode >> 6) & 0x3f),\n                            0x80 | (charcode & 0x3f));\n                    }\n                    // surrogate pair\n                    else {\n                        i++;\n                        // UTF-16 encodes 0x10000-0x10FFFF by\n                        // subtracting 0x10000 and splitting the\n                        // 20 bits of 0x0-0xFFFFF into two halves\n                        charcode = 0x10000 + (((charcode & 0x3ff) << 10) |\n                            (str.charCodeAt(i) & 0x3ff));\n                        utf8.push(0xf0 | (charcode >> 18),\n                            0x80 | ((charcode >> 12) & 0x3f),\n                            0x80 | ((charcode >> 6) & 0x3f),\n                            0x80 | (charcode & 0x3f));\n                    }\n                }\n                return utf8;\n            }\n            return toUTF8Array(s);\n        };\n\n        //---------------------------------------------------------------------\n        // QRMode\n        //---------------------------------------------------------------------\n\n        var QRMode = {\n            MODE_8BIT_BYTE: 1 << 2,\n        };\n\n        //---------------------------------------------------------------------\n        // QRErrorCorrectLevel\n        //---------------------------------------------------------------------\n\n        var QRErrorCorrectLevel = {\n            'L': 1,\n            'M': 0,\n            'Q': 3,\n            'H': 2\n        };\n\n        //---------------------------------------------------------------------\n        // QRMaskPattern\n        //---------------------------------------------------------------------\n\n        var QRMaskPattern = {\n            PATTERN000: 0,\n            PATTERN001: 1,\n            PATTERN010: 2,\n            PATTERN011: 3,\n            PATTERN100: 4,\n            PATTERN101: 5,\n            PATTERN110: 6,\n            PATTERN111: 7\n        };\n\n        //---------------------------------------------------------------------\n        // QRUtil\n        //---------------------------------------------------------------------\n\n        var QRUtil = function() {\n\n            var PATTERN_POSITION_TABLE = [\n                [],\n                [6, 18],\n                [6, 22],\n                [6, 26],\n                [6, 30],\n                [6, 34],\n                [6, 22, 38],\n                [6, 24, 42],\n                [6, 26, 46],\n                [6, 28, 50],\n                [6, 30, 54],\n                [6, 32, 58],\n                [6, 34, 62],\n                [6, 26, 46, 66],\n                [6, 26, 48, 70],\n                [6, 26, 50, 74],\n                [6, 30, 54, 78],\n                [6, 30, 56, 82],\n                [6, 30, 58, 86],\n                [6, 34, 62, 90],\n                [6, 28, 50, 72, 94],\n                [6, 26, 50, 74, 98],\n                [6, 30, 54, 78, 102],\n                [6, 28, 54, 80, 106],\n                [6, 32, 58, 84, 110],\n                [6, 30, 58, 86, 114],\n                [6, 34, 62, 90, 118],\n                [6, 26, 50, 74, 98, 122],\n                [6, 30, 54, 78, 102, 126],\n                [6, 26, 52, 78, 104, 130],\n                [6, 30, 56, 82, 108, 134],\n                [6, 34, 60, 86, 112, 138],\n                [6, 30, 58, 86, 114, 142],\n                [6, 34, 62, 90, 118, 146],\n                [6, 30, 54, 78, 102, 126, 150],\n                [6, 24, 50, 76, 102, 128, 154],\n                [6, 28, 54, 80, 106, 132, 158],\n                [6, 32, 58, 84, 110, 136, 162],\n                [6, 26, 54, 82, 110, 138, 166],\n                [6, 30, 58, 86, 114, 142, 170]\n            ],\n                G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n                G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n                G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1),\n\n                _this = {},\n\n                getBCHDigit = function(data) {\n                var digit = 0;\n                while (data !== 0) {\n                    digit += 1;\n                    data >>>= 1;\n                }\n                return digit;\n            };\n\n            _this.getBCHTypeInfo = function(data) {\n                var d = data << 10;\n                while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n                    d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15)));\n                }\n                return ((data << 10) | d) ^ G15_MASK;\n            };\n\n            // TODO rm5 (see rm5 above)\n            _this.getBCHTypeNumber = function(data) {\n                var d = data << 12;\n                while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n                    d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18)));\n                }\n                return (data << 12) | d;\n            };\n\n            _this.getPatternPosition = function(typeNumber) {\n                return PATTERN_POSITION_TABLE[typeNumber - 1];\n            };\n\n            _this.getMaskFunction = function(maskPattern) {\n\n                switch (maskPattern) {\n\n                    case QRMaskPattern.PATTERN000:\n                        return function(i, j) { return (i + j) % 2 === 0; };\n                    case QRMaskPattern.PATTERN001:\n                        return function(i, j) { return i % 2 === 0; };\n                    case QRMaskPattern.PATTERN010:\n                        return function(i, j) { return j % 3 === 0; };\n                    case QRMaskPattern.PATTERN011:\n                        return function(i, j) { return (i + j) % 3 === 0; };\n                    case QRMaskPattern.PATTERN100:\n                        return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0; };\n                    case QRMaskPattern.PATTERN101:\n                        return function(i, j) { return (i * j) % 2 + (i * j) % 3 === 0; };\n                    case QRMaskPattern.PATTERN110:\n                        return function(i, j) { return ((i * j) % 2 + (i * j) % 3) % 2 === 0; };\n                    case QRMaskPattern.PATTERN111:\n                        return function(i, j) { return ((i * j) % 3 + (i + j) % 2) % 2 === 0; };\n\n                    default:\n                        throw new Error('bad maskPattern:' + maskPattern);\n                }\n            };\n\n            _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n                var a = qrPolynomial([1], 0);\n                for (var i = 0; i < errorCorrectLength; i += 1) {\n                    a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0));\n                }\n                return a;\n            };\n\n            _this.getLengthInBits = function(mode, type) {\n                if (mode !== QRMode.MODE_8BIT_BYTE || type < 1 || type > 40)\n                    throw new Error('mode: ' + mode + '; type: ' + type);\n\n                return type < 10 ? 8 : 16;\n            };\n\n            _this.getLostPoint = function(qrcode) {\n\n                var moduleCount = qrcode.getModuleCount(),\n                    lostPoint = 0;\n\n                // LEVEL1\n\n                var row;\n                var col;\n                for (row = 0; row < moduleCount; row += 1) {\n                    for (col = 0; col < moduleCount; col += 1) {\n\n                        var sameCount = 0,\n                            dark = qrcode.isDark(row, col);\n\n                        for (var r = -1; r <= 1; r += 1) {\n\n                            if (row + r < 0 || moduleCount <= row + r) {\n                                continue;\n                            }\n\n                            for (var c = -1; c <= 1; c += 1) {\n\n                                if (col + c < 0 || moduleCount <= col + c) {\n                                    continue;\n                                }\n\n                                if (r === 0 && c === 0) {\n                                    continue;\n                                }\n\n                                if (dark === qrcode.isDark(row + r, col + c)) {\n                                    sameCount += 1;\n                                }\n                            }\n                        }\n\n                        if (sameCount > 5) {\n                            lostPoint += (3 + sameCount - 5);\n                        }\n                    }\n                };\n\n                // LEVEL2\n\n                for (row = 0; row < moduleCount - 1; row += 1) {\n                    for (col = 0; col < moduleCount - 1; col += 1) {\n                        var count = 0;\n                        if (qrcode.isDark(row, col)) count += 1;\n                        if (qrcode.isDark(row + 1, col)) count += 1;\n                        if (qrcode.isDark(row, col + 1)) count += 1;\n                        if (qrcode.isDark(row + 1, col + 1)) count += 1;\n                        if (count === 0 || count === 4) {\n                            lostPoint += 3;\n                        }\n                    }\n                }\n\n                // LEVEL3\n\n                for (row = 0; row < moduleCount; row += 1) {\n                    for (col = 0; col < moduleCount - 6; col += 1) {\n                        if (qrcode.isDark(row, col) &&\n                            !qrcode.isDark(row, col + 1) &&\n                            qrcode.isDark(row, col + 2) &&\n                            qrcode.isDark(row, col + 3) &&\n                            qrcode.isDark(row, col + 4) &&\n                            !qrcode.isDark(row, col + 5) &&\n                            qrcode.isDark(row, col + 6)) {\n                            lostPoint += 40;\n                        }\n                    }\n                }\n\n                for (col = 0; col < moduleCount; col += 1) {\n                    for (row = 0; row < moduleCount - 6; row += 1) {\n                        if (qrcode.isDark(row, col) &&\n                            !qrcode.isDark(row + 1, col) &&\n                            qrcode.isDark(row + 2, col) &&\n                            qrcode.isDark(row + 3, col) &&\n                            qrcode.isDark(row + 4, col) &&\n                            !qrcode.isDark(row + 5, col) &&\n                            qrcode.isDark(row + 6, col)) {\n                            lostPoint += 40;\n                        }\n                    }\n                }\n\n                // LEVEL4\n\n                var darkCount = 0;\n\n                for (col = 0; col < moduleCount; col += 1) {\n                    for (row = 0; row < moduleCount; row += 1) {\n                        if (qrcode.isDark(row, col)) {\n                            darkCount += 1;\n                        }\n                    }\n                }\n\n                var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n                lostPoint += ratio * 10;\n\n                return lostPoint;\n            };\n\n            return _this;\n        }();\n\n        //---------------------------------------------------------------------\n        // QRMath\n        //---------------------------------------------------------------------\n\n        var QRMath = function() {\n\n            var EXP_TABLE = new Array(256),\n                LOG_TABLE = new Array(256);\n\n            // initialize tables\n            var i;\n            for (i = 0; i < 8; i += 1) {\n                EXP_TABLE[i] = 1 << i;\n            }\n            for (i = 8; i < 256; i += 1) {\n                EXP_TABLE[i] = EXP_TABLE[i - 4] ^\n                    EXP_TABLE[i - 5] ^\n                    EXP_TABLE[i - 6] ^\n                    EXP_TABLE[i - 8];\n            }\n            for (i = 0; i < 255; i += 1) {\n                LOG_TABLE[EXP_TABLE[i]] = i;\n            }\n\n            var _this = {};\n\n            _this.glog = function(n) {\n\n                if (n < 1) {\n                    throw new Error('glog(' + n + ')');\n                }\n\n                return LOG_TABLE[n];\n            };\n\n            _this.gexp = function(n) {\n\n                while (n < 0) {\n                    n += 255;\n                }\n\n                while (n >= 256) {\n                    n -= 255;\n                }\n\n                return EXP_TABLE[n];\n            };\n\n            return _this;\n        }();\n\n        //---------------------------------------------------------------------\n        // qrPolynomial\n        //---------------------------------------------------------------------\n\n        function qrPolynomial(num, shift) {\n\n            if (typeof num.length === 'undefined') {\n                throw new Error(num.length + '/' + shift);\n            }\n\n            var _num = function() {\n                var offset = 0;\n                while (offset < num.length && num[offset] === 0) {\n                    offset += 1;\n                }\n                var _num = new Array(num.length - offset + shift);\n                for (var i = 0; i < num.length - offset; i += 1) {\n                    _num[i] = num[i + offset];\n                }\n                return _num;\n            }();\n\n            var _this = {};\n\n            _this.getAt = function(index) {\n                return _num[index];\n            };\n\n            _this.getLength = function() {\n                return _num.length;\n            };\n\n            _this.multiply = function(e) {\n\n                var num = new Array(_this.getLength() + e.getLength() - 1);\n\n                for (var i = 0; i < _this.getLength(); i += 1) {\n                    for (var j = 0; j < e.getLength(); j += 1) {\n                        num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i)) + QRMath.glog(e.getAt(j)));\n                    }\n                }\n\n                return qrPolynomial(num, 0);\n            };\n\n            _this.mod = function(e) {\n\n                if (_this.getLength() - e.getLength() < 0) {\n                    return _this;\n                }\n\n                var ratio = QRMath.glog(_this.getAt(0)) - QRMath.glog(e.getAt(0));\n\n                var num = new Array(_this.getLength());\n                var i;\n                for (i = 0; i < _this.getLength(); i += 1) {\n                    num[i] = _this.getAt(i);\n                }\n\n                for (i = 0; i < e.getLength(); i += 1) {\n                    num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i)) + ratio);\n                }\n\n                // recursive call\n                return qrPolynomial(num, 0).mod(e);\n            };\n\n            return _this;\n        };\n\n        //---------------------------------------------------------------------\n        // QRRSBlock\n        //---------------------------------------------------------------------\n\n        var QRRSBlock = function() {\n\n            // TODO is it possible to generate this block with JS in let kB?\n            var RS_BLOCK_TABLE = [\n\n                // L\n                // M\n                // Q\n                // H\n\n                // 1\n                [1, 26, 19],\n                [1, 26, 16],\n                [1, 26, 13],\n                [1, 26, 9],\n\n                // 2\n                [1, 44, 34],\n                [1, 44, 28],\n                [1, 44, 22],\n                [1, 44, 16],\n\n                // 3\n                [1, 70, 55],\n                [1, 70, 44],\n                [2, 35, 17],\n                [2, 35, 13],\n\n                // 4\n                [1, 100, 80],\n                [2, 50, 32],\n                [2, 50, 24],\n                [4, 25, 9],\n\n                // 5\n                [1, 134, 108],\n                [2, 67, 43],\n                [2, 33, 15, 2, 34, 16],\n                [2, 33, 11, 2, 34, 12],\n\n                // 6\n                [2, 86, 68],\n                [4, 43, 27],\n                [4, 43, 19],\n                [4, 43, 15],\n\n                // 7\n                [2, 98, 78],\n                [4, 49, 31],\n                [2, 32, 14, 4, 33, 15],\n                [4, 39, 13, 1, 40, 14],\n\n                // 8\n                [2, 121, 97],\n                [2, 60, 38, 2, 61, 39],\n                [4, 40, 18, 2, 41, 19],\n                [4, 40, 14, 2, 41, 15],\n\n                // 9\n                [2, 146, 116],\n                [3, 58, 36, 2, 59, 37],\n                [4, 36, 16, 4, 37, 17],\n                [4, 36, 12, 4, 37, 13],\n\n                // 10\n                [2, 86, 68, 2, 87, 69],\n                [4, 69, 43, 1, 70, 44],\n                [6, 43, 19, 2, 44, 20],\n                [6, 43, 15, 2, 44, 16],\n\n                // 11\n                [4, 101, 81],\n                [1, 80, 50, 4, 81, 51],\n                [4, 50, 22, 4, 51, 23],\n                [3, 36, 12, 8, 37, 13],\n\n                // 12\n                [2, 116, 92, 2, 117, 93],\n                [6, 58, 36, 2, 59, 37],\n                [4, 46, 20, 6, 47, 21],\n                [7, 42, 14, 4, 43, 15],\n\n                // 13\n                [4, 133, 107],\n                [8, 59, 37, 1, 60, 38],\n                [8, 44, 20, 4, 45, 21],\n                [12, 33, 11, 4, 34, 12],\n\n                // 14\n                [3, 145, 115, 1, 146, 116],\n                [4, 64, 40, 5, 65, 41],\n                [11, 36, 16, 5, 37, 17],\n                [11, 36, 12, 5, 37, 13],\n\n                // 15\n                [5, 109, 87, 1, 110, 88],\n                [5, 65, 41, 5, 66, 42],\n                [5, 54, 24, 7, 55, 25],\n                [11, 36, 12, 7, 37, 13],\n\n                // 16\n                [5, 122, 98, 1, 123, 99],\n                [7, 73, 45, 3, 74, 46],\n                [15, 43, 19, 2, 44, 20],\n                [3, 45, 15, 13, 46, 16],\n\n                // 17\n                [1, 135, 107, 5, 136, 108],\n                [10, 74, 46, 1, 75, 47],\n                [1, 50, 22, 15, 51, 23],\n                [2, 42, 14, 17, 43, 15],\n\n                // 18\n                [5, 150, 120, 1, 151, 121],\n                [9, 69, 43, 4, 70, 44],\n                [17, 50, 22, 1, 51, 23],\n                [2, 42, 14, 19, 43, 15],\n\n                // 19\n                [3, 141, 113, 4, 142, 114],\n                [3, 70, 44, 11, 71, 45],\n                [17, 47, 21, 4, 48, 22],\n                [9, 39, 13, 16, 40, 14],\n\n                // 20\n                [3, 135, 107, 5, 136, 108],\n                [3, 67, 41, 13, 68, 42],\n                [15, 54, 24, 5, 55, 25],\n                [15, 43, 15, 10, 44, 16],\n\n                // 21\n                [4, 144, 116, 4, 145, 117],\n                [17, 68, 42],\n                [17, 50, 22, 6, 51, 23],\n                [19, 46, 16, 6, 47, 17],\n\n                // 22\n                [2, 139, 111, 7, 140, 112],\n                [17, 74, 46],\n                [7, 54, 24, 16, 55, 25],\n                [34, 37, 13],\n\n                // 23\n                [4, 151, 121, 5, 152, 122],\n                [4, 75, 47, 14, 76, 48],\n                [11, 54, 24, 14, 55, 25],\n                [16, 45, 15, 14, 46, 16],\n\n                // 24\n                [6, 147, 117, 4, 148, 118],\n                [6, 73, 45, 14, 74, 46],\n                [11, 54, 24, 16, 55, 25],\n                [30, 46, 16, 2, 47, 17],\n\n                // 25\n                [8, 132, 106, 4, 133, 107],\n                [8, 75, 47, 13, 76, 48],\n                [7, 54, 24, 22, 55, 25],\n                [22, 45, 15, 13, 46, 16],\n\n                // 26\n                [10, 142, 114, 2, 143, 115],\n                [19, 74, 46, 4, 75, 47],\n                [28, 50, 22, 6, 51, 23],\n                [33, 46, 16, 4, 47, 17],\n\n                // 27\n                [8, 152, 122, 4, 153, 123],\n                [22, 73, 45, 3, 74, 46],\n                [8, 53, 23, 26, 54, 24],\n                [12, 45, 15, 28, 46, 16],\n\n                // 28\n                [3, 147, 117, 10, 148, 118],\n                [3, 73, 45, 23, 74, 46],\n                [4, 54, 24, 31, 55, 25],\n                [11, 45, 15, 31, 46, 16],\n\n                // 29\n                [7, 146, 116, 7, 147, 117],\n                [21, 73, 45, 7, 74, 46],\n                [1, 53, 23, 37, 54, 24],\n                [19, 45, 15, 26, 46, 16],\n\n                // 30\n                [5, 145, 115, 10, 146, 116],\n                [19, 75, 47, 10, 76, 48],\n                [15, 54, 24, 25, 55, 25],\n                [23, 45, 15, 25, 46, 16],\n\n                // 31\n                [13, 145, 115, 3, 146, 116],\n                [2, 74, 46, 29, 75, 47],\n                [42, 54, 24, 1, 55, 25],\n                [23, 45, 15, 28, 46, 16],\n\n                // 32\n                [17, 145, 115],\n                [10, 74, 46, 23, 75, 47],\n                [10, 54, 24, 35, 55, 25],\n                [19, 45, 15, 35, 46, 16],\n\n                // 33\n                [17, 145, 115, 1, 146, 116],\n                [14, 74, 46, 21, 75, 47],\n                [29, 54, 24, 19, 55, 25],\n                [11, 45, 15, 46, 46, 16],\n\n                // 34\n                [13, 145, 115, 6, 146, 116],\n                [14, 74, 46, 23, 75, 47],\n                [44, 54, 24, 7, 55, 25],\n                [59, 46, 16, 1, 47, 17],\n\n                // 35\n                [12, 151, 121, 7, 152, 122],\n                [12, 75, 47, 26, 76, 48],\n                [39, 54, 24, 14, 55, 25],\n                [22, 45, 15, 41, 46, 16],\n\n                // 36\n                [6, 151, 121, 14, 152, 122],\n                [6, 75, 47, 34, 76, 48],\n                [46, 54, 24, 10, 55, 25],\n                [2, 45, 15, 64, 46, 16],\n\n                // 37\n                [17, 152, 122, 4, 153, 123],\n                [29, 74, 46, 14, 75, 47],\n                [49, 54, 24, 10, 55, 25],\n                [24, 45, 15, 46, 46, 16],\n\n                // 38\n                [4, 152, 122, 18, 153, 123],\n                [13, 74, 46, 32, 75, 47],\n                [48, 54, 24, 14, 55, 25],\n                [42, 45, 15, 32, 46, 16],\n\n                // 39\n                [20, 147, 117, 4, 148, 118],\n                [40, 75, 47, 7, 76, 48],\n                [43, 54, 24, 22, 55, 25],\n                [10, 45, 15, 67, 46, 16],\n\n                // 40\n                [19, 148, 118, 6, 149, 119],\n                [18, 75, 47, 31, 76, 48],\n                [34, 54, 24, 34, 55, 25],\n                [20, 45, 15, 61, 46, 16]\n            ];\n\n            var qrRSBlock = function(totalCount, dataCount) {\n                var _this = {};\n                _this.totalCount = totalCount;\n                _this.dataCount = dataCount;\n                return _this;\n            };\n\n            var _this = {};\n\n            var getRsBlockTable = function(typeNumber, errorCorrectLevel) {\n                switch (errorCorrectLevel) {\n                    case QRErrorCorrectLevel['L']:\n                        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n                    case QRErrorCorrectLevel['M']:\n                        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n                    case QRErrorCorrectLevel['Q']:\n                        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n                    case QRErrorCorrectLevel['H']:\n                        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n                    default:\n                        return undefined;\n                }\n            };\n\n            _this.getRSBlocks = function(typeNumber, errorCorrectLevel) {\n\n                var rsBlock = getRsBlockTable(typeNumber, errorCorrectLevel);\n\n                if (typeof rsBlock === 'undefined') {\n                    throw new Error('bad rs block @ typeNumber:' + typeNumber +\n                        '/errorCorrectLevel:' + errorCorrectLevel);\n                }\n\n                var length = rsBlock.length / 3,\n                    list = [];\n\n                for (var i = 0; i < length; i += 1) {\n\n                    var count = rsBlock[i * 3 + 0],\n                        totalCount = rsBlock[i * 3 + 1],\n                        dataCount = rsBlock[i * 3 + 2];\n\n                    for (var j = 0; j < count; j += 1) {\n                        list.push(qrRSBlock(totalCount, dataCount));\n                    }\n                }\n\n                return list;\n            };\n\n            return _this;\n        }();\n\n        //---------------------------------------------------------------------\n        // qrBitBuffer\n        //---------------------------------------------------------------------\n\n        var qrBitBuffer = function() {\n\n            var _buffer = [],\n                _length = 0,\n                _this = {};\n\n            _this.getBuffer = function() {\n                return _buffer;\n            };\n\n            _this.getAt = function(index) {\n                var bufIndex = Math.floor(index / 8);\n                return ((_buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1;\n            };\n\n            _this.put = function(num, length) {\n                for (var i = 0; i < length; i += 1) {\n                    _this.putBit(((num >>> (length - i - 1)) & 1) === 1);\n                }\n            };\n\n            _this.getLengthInBits = function() {\n                return _length;\n            };\n\n            _this.putBit = function(bit) {\n\n                var bufIndex = Math.floor(_length / 8);\n                if (_buffer.length <= bufIndex) {\n                    _buffer.push(0);\n                }\n\n                if (bit) {\n                    _buffer[bufIndex] |= (0x80 >>> (_length % 8));\n                }\n\n                _length += 1;\n            };\n\n            return _this;\n        };\n\n        //---------------------------------------------------------------------\n        // qr8BitByte\n        //---------------------------------------------------------------------\n\n        var qr8BitByte = function(data) {\n\n            var _mode = QRMode.MODE_8BIT_BYTE,\n                _data = data,\n                _bytes = qrcode.stringToBytes(_data),\n                _this = {};\n\n            _this.getMode = function() {\n                return _mode;\n            };\n\n            _this.getLength = function(buffer) {\n                return _bytes.length;\n            };\n\n            _this.write = function(buffer) {\n                for (var i = 0; i < _bytes.length; i += 1) {\n                    buffer.put(_bytes[i], 8);\n                }\n            };\n\n            return _this;\n        };\n\n        // returns qrcode function.\n        return qrcode;\n    }();\n\n    return qrcode; // eslint-disable-line no-undef\n}()));\n","import React from 'react';\nimport QrCode from './qr-code.js';\n\nexport default class QrImageStyle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        image: null,\n        prevContent: this.props.qrContent\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.content !== state.prevContent) {\n      const qr = document.createElement('canvas');\n      QrCode.render({\n        text: props.content,\n        radius: 0.5, // 0.0 to 0.5\n        ecLevel: 'Q', // L, M, Q, H\n        fill: {\n          type: 'radial-gradient', // or 'linear-gradient'\n          position: [ 0.5,0.5,0, 0.5,0.5,0.75 ], //xPos,yPos,radius of inner and outer circle where position is 0-1 of full dimension\n          colorStops: [\n              [ 0, '#376ab4' ], //from 0 to 100% (0-1)\n              [ 1, '#000034' ],\n          ]\n        }, // foreground color\n        background: null, // color or null for transparent\n        size: props.size // in pixels\n      }, qr);\n\n      return {\n        prevContent: props.content,\n        image: qr.toDataURL('image/png')\n      };\n    }\n    return null;\n  }\n\n  render() {\n    return <img { ...this.props }src={this.state.image} alt=\"QR\"/>;\n  }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport * as rpc from './rpc' //rpc creds not shared on github\nimport { Base64 } from 'js-base64';\nimport { Dropdown, DropdownButton, InputGroup, FormControl, Button} from 'react-bootstrap'\nimport QrImageStyle from './components/qrImageStyle'\nimport Parser from 'html-react-parser'\nimport * as Nano from 'nanocurrency'\nimport $ from 'jquery'\n\nconst RPC_TIMEOUT = 10000 // 10sec timeout for calling RPC proxy\n\n//CONSTANTS\nexport const constants = {\n  // These are taken from the creds file\n  RPC_SERVER: rpc.RPC_SERVER,\n  RPC_CREDS: rpc.RPC_CREDS,\n\n  // Nano sample commands\n  SAMPLE_COMMANDS: [\n    '{\"action\":\"account_history\", \"account\":\"nano_3cpz7oh9qr5b7obbcb5867omqf8esix4sdd5w6mh8kkknamjgbnwrimxsaaf\",\"count\":\"20\"}',\n    '{\"action\":\"account_info\",\"account\":\"nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3\"}',\n    '{\"action\":\"account_representative\",\"account\":\"nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3\"}',\n    '{\"action\":\"active_difficulty\"}',\n    '{\"action\":\"available_supply\"}',\n    '{\"action\":\"block_info\",\"json_block\":\"true\",\"hash\":\"87434F8041869A01C8F6F263B87972D7BA443A72E0A97D7A3FD0CCC2358FD6F9\"}',\n    '{\"action\":\"block_count\"}',\n    '{\"action\":\"chain\",\"block\":\"87434F8041869A01C8F6F263B87972D7BA443A72E0A97D7A3FD0CCC2358FD6F9\",\"count\":\"20\"}',\n    '{\"action\":\"delegators\",\"account\":\"nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3\"}',\n    '{\"action\":\"delegators_count\",\"account\":\"nano_3t6k35gi95xu6tergt6p69ck76ogmitsa8mnijtpxm9fkcm736xtoncuohr3\"}',\n    '{\"action\":\"frontiers\", \"account\":\"nano_3cpz7oh9qr5b7obbcb5867omqf8esix4sdd5w6mh8kkknamjgbnwrimxsaaf\",\"count\":\"20\"}',\n    '{\"action\":\"pending\",\"account\":\"nano_1111111111111111111111111111111111111111111111111117353trpda\",\"count\":\"5\"}',\n    '{\"action\": \"process\",\"json_block\": \"true\",\"subtype\": \"send\",\"block\": {\"type\": \"state\",\"account\": \"nano_1qato4k7z3spc8gq1zyd8xeqfbzsoxwo36a45ozbrxcatut7up8ohyardu1z\",\"previous\": \"6CDDA48608C7843A0AC1122BDD46D9E20E21190986B19EAC23E7F33F2E6A6766\",\"representative\": \"nano_3pczxuorp48td8645bs3m6c3xotxd3idskrenmi65rbrga5zmkemzhwkaznh\",\"balance\": \"40200000001000000000000000000000000\",\"link\": \"87434F8041869A01C8F6F263B87972D7BA443A72E0A97D7A3FD0CCC2358FD6F9\",\"link_as_account\":\"nano_33t5by1653nt196hfwm5q3wq7oxtaix97r7bhox5zn8eratrzoqsny49ftsd\",\"signature\": \"A5DB164F6B81648F914E49CAB533900C389FAAD64FBB24F6902F9261312B29F730D07E9BCCD21D918301419B4E05B181637CF8419ED4DCBF8EF2539EB2467F07\",\"work\": \"000bc55b014e807d\"}}',\n    '{\"action\":\"representatives_online\"}',\n    '{\"action\":\"price\"}',\n  ],\n  // For dropdown titles\n  SAMPLE_COMMAND_NAMES: [\n    \"account_history\",\n    \"account_info\",\n    \"account_representative\",\n    \"active_difficulty\",\n    \"available_supply\",\n    \"block_info\",\n    \"block_count\",\n    \"chain\",\n    \"delegators\",\n    \"delegators_count\",\n    \"frontiers\",\n    \"pending\",\n    \"process\",\n    \"representatives_online\",\n    \"Nano price\"\n  ]\n}\n\n// Custom error class\nclass RPCError extends Error {\n  constructor(code, ...params) {\n    super(...params)\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, RPCError)\n    }\n    this.name = 'RPCError'\n    // Custom debugging information\n    this.code = code\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    // QR css\n    this.qrClassesContainer = [\"QR-container\", \"QR-container-2x\", \"QR-container-4x\"]\n    this.qrClassesImg = [\"QR-img\", \"QR-img-2x\", \"QR-img-4x\"]\n\n    this.state = {\n      command: '',\n      key: '',\n      amount: 10,\n      nanoAmount: 0,\n      output: '',\n      validKey: false,\n      fetchingRPC: false,\n      paymentActive: false,\n      activeCommandId: 0,\n      activeCommandName: 'Select a sample',\n      useAuth: true,\n      tokenText1: \"\",\n      tokenText2: \"\",\n      tokenText3: \"\",\n      qrContent: '',\n      qrSize: 512,\n      qrState: 0,  //qr size\n      qrHidden: true,\n      payinfoHidden: true,\n      apiText: \"\",\n      tokenPrice: 0.0001, //temp price, real price grabbed from server\n    }\n\n    this.getRPC = this.getRPC.bind(this)\n    this.buyTokens = this.buyTokens.bind(this)\n    this.checkTokens = this.checkTokens.bind(this)\n    this.cancelOrder = this.cancelOrder.bind(this)\n    this.prepareForPayment = this.prepareForPayment.bind(this)\n    this.handleCommandChange = this.handleCommandChange.bind(this)\n    this.handleKeyChange = this.handleKeyChange.bind(this)\n    this.handleAmountChange = this.handleAmountChange.bind(this)\n    this.handleNanoChange = this.handleNanoChange.bind(this)\n    this.handleRPCError = this.handleRPCError.bind(this)\n    this.selectCommand = this.selectCommand.bind(this)\n    this.postData = this.postData.bind(this)\n    this.handleOptionChange = this.handleOptionChange.bind(this)\n    this.updateQR = this.updateQR.bind(this)\n    this.double = this.double.bind(this)\n  }\n\n  // Init component\n  componentDidMount() {\n    // try update the price\n    var command = {\n      action: \"tokenprice_check\",\n    }\n    this.postData(command)\n    .then((data) => {\n      if (\"token_price\" in data) {\n        let nano = this.state.amount * parseFloat(data.token_price)\n        this.setState({\n          nanoAmount: nano\n        })\n      }\n    })\n    .catch(function(error) {\n      this.handleRPCError(error)\n    }.bind(this))\n\n    // calculate nano cost regardless of if server respond or not\n    let nano = this.state.amount * this.state.tokenPrice\n    this.setState({\n      nanoAmount: nano\n    })\n  }\n\n  handleCommandChange(event) {\n    let command = event.target.value\n    try {\n      let query = $.param(JSON.parse(command)) //convert json to query string\n      this.setState({\n        apiText: query\n      })\n    }\n    catch {\n      this.setState({\n        apiText: \"Bad json format\"\n      })\n    }\n\n    this.setState({\n      command: command\n    })\n  }\n\n  handleKeyChange(event) {\n    let key = event.target.value\n    if (key.length === 64) {\n      this.setState({\n        validKey: true\n      })\n    }\n    else {\n      this.setState({\n        validKey: false\n      })\n    }\n    this.setState({\n      key: key\n    })\n  }\n\n  handleAmountChange(event) {\n    if (event.target.value !== \"\") {\n      let amount = parseInt(event.target.value)\n      if (Number.isSafeInteger(amount)) {\n        // calculate nano cost\n        let nano = amount * this.state.tokenPrice\n        this.setState({\n          amount: amount,\n          nanoAmount: nano\n        })\n      }\n    }\n    else {\n      this.setState({\n        amount: event.target.value\n      })\n    }\n  }\n\n  handleNanoChange(event) {\n    if (event.target.value !== \"\") {\n      let amount = event.target.value\n      if (Number.isSafeInteger(parseInt(amount)) || this.isFloat(parseFloat(amount))) {\n        // calculate tokens\n        let tokens = Math.round(parseFloat(amount) / this.state.tokenPrice)\n        this.setState({\n          nanoAmount: event.target.value,\n          amount: tokens\n        })\n      }\n    }\n    else {\n      this.setState({\n        nanoAmount: event.target.value\n      })\n    }\n  }\n\n  // Select Auth\n  handleOptionChange = changeEvent => {\n    this.setState({\n      useAuth: !this.state.useAuth\n    })\n  }\n\n  updateQR(address, amount=0) {\n    let raw = this.MnanoToRaw(amount.toString())\n    this.setState({\n      qrContent: \"nano:\"+address+\"?amount=\"+raw+\"&message=RPC Proxy Tokens\",\n    })\n    if (address === \"\") {\n      this.setState({\n        qrHidden: true,\n      })\n    }\n    else {\n      this.setState({\n        qrHidden: false,\n      })\n    }\n  }\n\n  // loop qr state 1x, 2x, 4x\n  double() {\n    var state = this.state.qrState\n    state = state + 1\n    if (state >= this.qrClassesContainer.length) {\n      state = 0\n    }\n    this.setState({\n      qrState: state\n    })\n  }\n\n  MnanoToRaw(input) {\n    return this.isNumeric(input) ? Nano.convert(input, {from: Nano.Unit.NANO, to: Nano.Unit.raw}) : 'N/A'\n  }\n\n  // Check if numeric string\n  isNumeric(val) {\n    //numerics and last character is not a dot and number of dots is 0 or 1\n    let isnum = /^-?\\d*\\.?\\d*$/.test(val)\n    if (isnum && String(val).slice(-1) !== '.') {\n      return true\n    }\n    else {\n      return false\n    }\n  }\n\n  // Check if float string\n  isFloat(x) {\n    return !!(x % 1)\n  }\n\n  // Change tool to view on main page\n  selectCommand(eventKey) {\n    let command = constants.SAMPLE_COMMANDS[eventKey]\n    let query = $.param(JSON.parse(command)) //convert json to query string\n    this.setState({\n      command: constants.SAMPLE_COMMANDS[eventKey],\n      activeCommandId: eventKey,\n      activeCommandName: constants.SAMPLE_COMMAND_NAMES[eventKey],\n      apiText: query\n    })\n  }\n\n  handleRPCError(error) {\n    this.setState({fetchingRPC: false})\n    if (error.code) {\n      console.log(\"RPC request failed: \"+error.message)\n      this.writeOutput({error:\"RPC request failed: \"+error.message})\n    }\n    else {\n      console.log(\"RPC request failed: \"+error)\n      this.writeOutput({error:\"RPC request failed: \"+error})\n    }\n  }\n\n  buyTokens(event) {\n    this.setState({payinfoHidden: false})\n\n    let amount = parseInt(this.state.amount)\n    if (Number.isInteger(amount) && amount > 0) {\n      var command = {\n        action: \"tokens_buy\",\n        token_amount: this.state.amount\n      }\n      if (this.state.key.length === 64) {\n        command.token_key = this.state.key\n      }\n      this.getRPC(null, command)\n    }\n  }\n\n  checkTokens(event) {\n    this.setState({payinfoHidden: true})\n    var command = {\n      action: \"tokens_check\",\n    }\n    if (this.state.key.length === 64) {\n      command.token_key = this.state.key\n      this.getRPC(null, command)\n    }\n  }\n\n  cancelOrder(event) {\n    this.setState({payinfoHidden: true})\n    var command = {\n      action: \"tokenorder_cancel\",\n    }\n    if (this.state.key.length === 64) {\n      command.token_key = this.state.key\n      this.getRPC(null, command)\n    }\n  }\n\n  // Make RPC call\n  getRPC(event, command=\"\") {\n    this.updateQR(\"\")\n\n    // Read command from text box if not provided from other function\n    if (command === \"\") {\n      this.setState({payinfoHidden: true})\n      try {\n        command = JSON.parse(this.state.command)\n        if (this.state.key.length === 64) {\n          command.token_key = this.state.key\n        }\n      }\n      catch(e) {\n        console.log(\"Could not parse json string\")\n        return\n      }\n    }\n\n    if (Object.keys(command).length > 0) {\n      this.setState({fetchingRPC: true})\n      this.postData(command)\n      .then((data) => {\n        this.setState({fetchingRPC: false})\n        this.writeOutput(data)\n      })\n      .catch(function(error) {\n        this.handleRPCError(error)\n      }.bind(this))\n    }\n  }\n\n  // Inform user how to pay and check status\n  prepareForPayment(json) {\n    this.setState({\n      tokenText1: 'Pay ' + json.payment_amount + 'Nano: <a href=\"nano:' + json.address + '?amount=' + this.MnanoToRaw(json.payment_amount.toString()) + '&message=RPC Proxy Tokens\">' + json.address + '</a>',\n      tokenText2: \"Request key (save): \" + json.token_key,\n      paymentActive: true\n    })\n    this.updateQR(json.address, json.payment_amount)\n\n    let command = {action:\"tokenorder_check\",token_key:json.token_key}\n\n    // Check status every second until payment completed or timed out\n    var timer = setInterval(() => {\n      this.postData(command)\n      .then((data) => {\n        if (\"order_time_left\" in data) {\n          if (parseInt(data.order_time_left) > 0) {\n            this.setState({tokenText3: \"You have \" + data.order_time_left + \"sec to pay\"})\n          }\n        }\n        else if (\"tokens_total\" in data && \"tokens_ordered\" in data) {\n          this.writeOutput(data)\n          this.setState({\n            tokenText1: \"Payment completed for \" + data.tokens_ordered + \" tokens! You now have \" + data.tokens_total + \" tokens to use\",\n            tokenText2: \"Request key: \" + json.token_key,\n            tokenText3: \"\",\n            paymentActive: false,\n          })\n          clearInterval(timer)\n          this.updateQR(\"\")\n        }\n        else if (\"error\" in data) {\n          this.writeOutput(data)\n          this.setState({\n            tokenText1: data.error,\n            tokenText2: \"\",\n            tokenText3: \"\",\n            paymentActive: false,\n          })\n          clearInterval(timer)\n          this.updateQR(\"\")\n        }\n        else {\n          this.writeOutput(data)\n          this.setState({\n            tokenText1: \"Unknown error occured\",\n            tokenText2: \"\",\n            tokenText3: \"\",\n            paymentActive: false,\n          })\n          clearInterval(timer)\n          this.updateQR(\"\")\n        }\n      })\n      .catch(function(error) {\n        this.setState({\n          tokenText1: \"\",\n          tokenText2: \"\",\n          tokenText3: \"\",\n          paymentActive: false,\n        })\n        clearInterval(timer)\n        this.updateQR(\"\")\n        this.handleRPCError(error)\n      }.bind(this))\n    },1000)\n  }\n\n  // Write result in output area\n  writeOutput(json) {\n    if ('address' in json) {\n      this.prepareForPayment(json)\n    }\n    try {\n      this.setState({\n        output: JSON.stringify(json, null, 2)\n      })\n    }\n    catch(error) {\n      console.log(\"Bad JSON: \"+error)\n    }\n  }\n\n  // Post RPC data with timeout and catch errors\n  async postData(data = {}, server=constants.RPC_SERVER) {\n    let didTimeOut = false;\n    var headers = {'Content-Type': 'application/json'}\n    if (this.state.useAuth) {\n      headers.Authorization = 'Basic ' + Base64.encode(constants.RPC_CREDS)\n    }\n\n    return new Promise(function(resolve, reject) {\n        const timeout = setTimeout(function() {\n            didTimeOut = true;\n            reject(new Error('Request timed out'))\n        }, RPC_TIMEOUT);\n\n        fetch(server, {\n          method: 'POST', // *GET, POST, PUT, DELETE, etc.\n          mode: 'cors', // no-cors, *cors, same-origin\n          cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n          credentials: 'same-origin', // include, *same-origin, omit\n          headers: headers,\n          redirect: 'follow', // manual, *follow, error\n          referrerPolicy: 'no-referrer', // no-referrer, *client\n          body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n        })\n        .then(async function(response) {\n            // Clear the timeout as cleanup\n            clearTimeout(timeout)\n            if(!didTimeOut) {\n              if(response.status === 200) {\n                  resolve(await response.json())\n              }\n              // catch blocked (to display on the site)\n              else if(response.status === 429) {\n                  resolve({\"error\":await response.text()})\n              }\n              // catch unauthorized (to display on the site)\n              else if(response.status === 401) {\n                  resolve({\"error\": \"unauthorized\"})\n              }\n              else if(response.status === 500) {\n                  resolve(await response.json())\n              }\n              else {\n                throw new RPCError(response.status, resolve(response))\n              }\n            }\n        })\n        .catch(function(err) {\n            // Rejection already happened with setTimeout\n            if(didTimeOut) return\n            // Reject with error\n            reject(err)\n        })\n    })\n    .then(async function(result) {\n        // Request success and no timeout\n        return result\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h3>Demo client for communicating with <a href=\"https://github.com/Joohansson/NanoRPCProxy\">NanoRPCProxy</a></h3>\n          <p>Send to a live Nano node using <a href=\"https://docs.nano.org/commands/rpc-protocol/\">RPC json requests</a></p>\n          <ul>\n            <li> Everyone are allowed 1000 requests/day. Purchase optional tokens if you need more.</li>\n            <li> Tokens can be refilled/extended using the same Request Key. The order is done when said Nano (or more) is registered.</li>\n            <li> If you send nano but order fail you can claim the private key. The old deposit account will be destroyed/replaced.</li>\n          </ul>\n          <DropdownButton\n            className=\"command-dropdown\"\n            title={this.state.activeCommandName}\n            key={this.state.activeCommandId}\n            id={`dropdown-basic-${this.state.activeCommandId}`}>\n            {constants.SAMPLE_COMMAND_NAMES.map(function(command, index){\n              return <Dropdown.Item eventKey={index} key={index} onSelect={this.selectCommand}>{command}</Dropdown.Item>;\n            }.bind(this))}\n          </DropdownButton>\n\n          <InputGroup size=\"sm\" className=\"mb-3\">\n            <InputGroup.Prepend>\n              <InputGroup.Text id=\"command\">\n                RPC Command\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl id=\"command\" aria-describedby=\"command\" value={this.state.command} title=\"Command to send\" maxLength=\"200\" placeholder='RPC command' onChange={this.handleCommandChange} autoComplete=\"off\"/>\n          </InputGroup>\n\n          <InputGroup size=\"sm\" className=\"mb-3\">\n            <InputGroup.Prepend>\n              <InputGroup.Text id=\"key\">\n                Request Key\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl id=\"key\" aria-describedby=\"key\" value={this.state.key} title=\"Your personal token key\" maxLength=\"64\" placeholder='Optional: Get key by purchase tokens. Key can also be used to refill/check your tokens or claim priv key.' onChange={this.handleKeyChange} autoComplete=\"off\"/>\n          </InputGroup>\n\n          <div className=\"token-text\">\n            <span>GET Query Equivalent (need basic auth headers if using server auth):<br/></span><a href={constants.RPC_SERVER+\"/?\"+this.state.apiText}>{constants.RPC_SERVER+\"/?\"+this.state.apiText}</a>\n          </div>\n\n          <InputGroup size=\"sm\" className=\"mb-3 hidden\">\n            <div className=\"auth-title\" title=\"Use authentication\">Use Auth:</div>\n            <div className=\"form-check form-check-inline index-checkbox\">\n              <input className=\"form-check-input\" type=\"checkbox\" id=\"auth-check\" value={this.state.useAuth} checked={this.state.useAuth} onChange={this.handleOptionChange}/>\n            </div>\n          </InputGroup>\n\n          <InputGroup size=\"sm\" className=\"mb-3\">\n            <Button className=\"btn-medium\" variant=\"primary\" disabled={this.state.fetchingRPC || this.state.paymentActive} onClick={this.getRPC}>Server Request</Button>\n          </InputGroup>\n\n          <div className=\"line\"></div>\n          <div className=\"line\"></div>\n\n          <InputGroup size=\"sm\" className=\"mb-3\">\n            <InputGroup.Prepend>\n              <InputGroup.Text id=\"amount\">\n                Token Amount\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl className=\"edit-short\" id=\"amount\" aria-describedby=\"amount\" value={this.state.amount} title=\"Number of tokens to purchase\" maxLength=\"9\" placeholder='' onChange={this.handleAmountChange} autoComplete=\"off\"/>\n          </InputGroup>\n\n          <InputGroup size=\"sm\" className=\"mb-3\">\n            <InputGroup.Prepend>\n              <InputGroup.Text id=\"nano\">\n                Nano Amount\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl className=\"edit-short\" id=\"nano\" aria-describedby=\"nano\" value={this.state.nanoAmount} title=\"Amount of Nano to pay\" maxLength=\"9\" placeholder='' onChange={this.handleNanoChange} autoComplete=\"off\"/>\n          </InputGroup>\n\n          <InputGroup size=\"sm\" className=\"mb-3\">\n            <Button className=\"btn-medium\" variant=\"primary\" disabled={this.state.fetchingRPC || this.state.paymentActive} onClick={this.buyTokens}>Buy/Refill tokens</Button>\n            <Button className=\"btn-medium\" variant=\"primary\" disabled={this.state.fetchingRPC || !this.state.validKey} onClick={this.checkTokens}>Check my tokens</Button>\n            <Button className=\"btn-medium\" variant=\"primary\" disabled={this.state.fetchingRPC || !this.state.validKey} onClick={this.cancelOrder}>Claim back order</Button>\n          </InputGroup>\n\n          <div className={ this.state.payinfoHidden ? \"hidden token-text\" : \"token-text\"}>\n            <p>{Parser(this.state.tokenText1)}</p>\n            <p>{this.state.tokenText2}</p>\n            <p>{this.state.tokenText3}</p>\n          </div>\n\n          <div className={ this.state.qrHidden ? \"hidden\" : \"\"}>\n            <div className={this.qrClassesContainer[this.state.qrState]}>\n              <QrImageStyle className={this.qrClassesImg[this.state.qrState]} content={this.state.qrContent} onClick={this.double} title=\"Click to toggle size\" size={this.state.qrSize} />\n            </div>\n          </div>\n\n          <InputGroup size=\"sm\" className=\"mb-3\">\n            <FormControl id=\"output-area\" aria-describedby=\"output\" as=\"textarea\" rows=\"12\" placeholder=\"\" value={this.state.output} readOnly/>\n          </InputGroup>\n        </header>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// If sharing source code publically like on github, this file can be git ignored. The creds will be hidden inside the react app\nexport const RPC_SERVER = 'http://localhost:9950/proxy'\nexport const RPC_CREDS = 'user1:user1'\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}